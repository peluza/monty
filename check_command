#include "holberton.h"

stack_t check_command(char *line, unsigned int num_lines, stack_t **stack)
{
    char *arg_line, *_opcode, *num = "0", *copy_arg;
	unsigned int n, i;
	int j = 0;

    arg_line = strtok(line, "\t\n ");
    _opcode = arg_line;
    for (i = 0; i < 17; i++)
	{
		check_fun(arg_line);
		if (j == 0)
		{
			arg_line = strtok(NULL, "\t\n ");
			if (arg_line)
			{
				strcpy(copy_arg, arg_line);
				n = atoi(arg_line);
			}
			if ((i == 0 && arg_line == NULL) || (arg_line && n == 0 && strcmp(arg_line, num) != 0 && i == 0))
			{
				fprintf(stderr, "L%u: usage: push integer\n", num_lines);
				return (*stack);
			}
			else if (i != 0)
				n = num_lines;
		}
	}
	fprintf(stderr, "L%u: unknown instruction %s\n", num_lines, _opcode);
	return (*stack);
}